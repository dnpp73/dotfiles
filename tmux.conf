# ã‚³ãƒãƒ³ãƒ‰ã®çœç•¥å½¢ã®å¯¾å¿œè¡¨
# set    == set-option
# setw   == set-window-option
# bind   == bind-key
# unbind == unbind-key

#
# ãƒã‚¦ã‚¹ã¨ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®è¨­å®š
#
set  -g mouse on
setw -g alternate-screen on
set  -g set-clipboard on

# ãƒã‚¦ã‚¹ãƒ‰ãƒ©ãƒƒã‚°çµ‚äº†æ™‚ã®æŒ™å‹•ã‚’ã€Œè‡ªå‹•ã‚³ãƒ”ãƒ¼ã—ã¦ copy-mode çµ‚äº†ã€ã§ã¯ãªãã€Œãƒ†ã‚­ã‚¹ãƒˆé¸æŠã—ã¦ copy-mode ç¶šè¡Œã€ã«å¤‰ãˆã‚‹
# èª­ã¿ã«ãã„ã‘ã© bind-key -T ã§ "copy-mode-vi ã‚­ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«" ã‚’æŒ‡å®šã—ã¦ã€
# ãªã‚“ã‚‰ã‹ã®ã‚­ãƒ¼ (MouseDragEnd1Pane ã¨ã‹ y ã‚­ãƒ¼ã¨ã‹) ã‚’æŒ‡å®šã—ã¦ã€
# æœ€å¾Œã« send-keys -X ã¯ tmux ã®å†…éƒ¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒˆãƒªã‚¬ã™ã‚‹ã€‚
# send-keys -X copy-pipe ã¯ copy-mode ã§é¸æŠã—ãŸãƒ†ã‚­ã‚¹ãƒˆã‚’ãƒ‘ã‚¤ãƒ—ã«æµã™ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã€‚
# copy-pipe-no-clear ã‚„ copy-pipe-and-cancel ãªã©ã‚‚ã‚ã‚‹ã€‚
unbind   -T copy-mode    MouseDragEnd1Pane
unbind   -T copy-mode-vi MouseDragEnd1Pane
bind-key -T copy-mode    MouseDragEnd1Pane display-message "Press Y to Copied to clipboard"
bind-key -T copy-mode-vi MouseDragEnd1Pane display-message "Press Y to Copied to clipboard"
bind-key -T copy-mode    y send-keys -X copy-pipe-no-clear "~/environments/dotfiles/osc52copy.sh"
bind-key -T copy-mode-vi y send-keys -X copy-pipe-no-clear "~/environments/dotfiles/osc52copy.sh"

#
# ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã®è¨­å®š
# æ‰‹ç™–ã§ã‚„ã£ã¦ã—ã¾ã†ã®ã§ screen é¢¨ã«ã™ã‚‹ã€‚
#
unbind C-b
set -g prefix C-a

unbind C-o    # rotate-window
unbind f      # command-prompt "find-window '%%'"
unbind l      # last-window
unbind m      # select-pane -m
unbind o      # select-pane -t :.+
unbind s      # choose-tree
unbind t      # clock-mode
unbind z      # resize-pane -Z
unbind \{     # swap-pane -U
unbind \}     # swap-pane -D
unbind \;     # last-pane
unbind =      # choose-buffer

bind a   send-prefix
bind C-a send-prefix

bind c   new-window
bind C-c new-window

bind n   next-window
bind C-n next-window

bind p   previous-window
bind C-p previous-window

bind w   choose-window
bind C-w choose-window

bind d   detach-client
bind C-d detach-client

# | ã§ãƒšã‚¤ãƒ³ã‚’ç¸¦ã«åˆ†å‰²ã™ã‚‹ã€‚ | ã¯å…¥åŠ›çš„ã«ã¯ Shft + \ ãªã®ã§ \ ã§ã‚‚åå¿œã•ã›ãŸã„ã€‚ C-a -> C-\ ã§ Control ã‚’æŠ¼ã—ã£ã±ãªã—ã§ã‚‚ã„ã„ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã€‚
bind |    split-window -h -c "#{pane_current_path}"
bind \\   split-window -h -c "#{pane_current_path}"
bind C-\\ split-window -h -c "#{pane_current_path}"

# - ã§ãƒšã‚¤ãƒ³ã‚’æ¨ªã«åˆ†å‰²ã™ã‚‹ã€‚ C-- ã¨ã„ã†è¨­å®šãŒã§ããªã„ã®ã§ã€ Control ã‚’æŠ¼ã—ã£ã±ãªã—ã§æ¨ªåˆ†å‰²ãŒã§ããªã„â€¦ã€‚
bind -   split-window -v -c "#{pane_current_path}"

#
# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã®è¨­å®š
#
setw -g monitor-activity on
set  -g visual-activity  off

setw -g automatic-rename on

set  -g set-titles on
set  -g set-titles-string "#W"

set  -g base-index      0 # ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’1ã‹ã‚‰å§‹ã‚ã‚‹ã¨ãã« 1 ã«ã™ã‚‹
setw -g pane-base-index 0 # ãƒšã‚¤ãƒ³ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’1ã‹ã‚‰å§‹ã‚ã‚‹ã¨ãã« 1 ã«ã™ã‚‹

set -g status-position bottom
set -g status-fg black
set -g status-bg white

set -g status-interval 5 # Default is 15

set -g status-left-length 1
set -g status-left " "

set -g status-right-length 999
# æ˜”ã€å‡ã£ã¦ã„ãŸæ™‚ã«ã“ã†ã„ã†ã®ã‚’æ›¸ã„ã¦ã„ãŸã¨ã„ã†ã®ã‚’æ®‹ã—ã¦ãŠãã€‚
# set -g status-right "#[bg=colour250,fg=black] CPU #(cpu-usage) | Mem #(mem-usage -f) | Net #(network-band) #(ssid) | ğŸ”‹ï¸ #(battery) #[fg=black]| #[bold,fg=colour20]%y/%m/%d #[fg=colour160]%H:%M:%S "
# set -g status-right "#[bg=colour250,fg=black] ğŸ”‹ï¸ #(battery) #[fg=black]| #[bold,fg=colour20]%y/%m/%d #[fg=colour160]%H:%M "
set -g status-right "#[bg=colour250,fg=black]#(~/environments/dotfiles/tmux-status-right-stats.sh)"

# ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ©ã‚¤ãƒ³ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®è¡¨ç¤º
setw -g window-status-style fg=colour20,bg=white
setw -g window-status-format " #W "

# ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ©ã‚¤ãƒ³ã®è¡¨ç¤º
setw -g window-status-current-style fg=colour196,bg=black
setw -g window-status-current-format " #W "

setw -g mode-keys vi
bind [   copy-mode
bind C-[ copy-mode
bind ]   paste-buffer -p
bind C-] paste-buffer -p
# bind -t vi-copy Escape cancel
