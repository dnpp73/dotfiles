# If not running interactively, don't do anything
[ -z "$PS1" ] && return


# set a fancy prompt (non-color, unless we know we "want" color)
case "$TERM" in
    xterm-color) color_prompt=yes;;
esac


# LANG
case "$TERM" in
    linux) LANG=C ;;
    *) LANG=ja_JP.UTF-8 ;;
esac
export LANG


# MANPATH
# 上の方が優先度が低い。ディレクトリがあれば追加していく。
MANPATH=""
MANPATHS=(
    "/usr/X11/man"
    "/usr/share/man"
    "/usr/local/share/man"
    "/usr/local/opt/coreutils/libexec/gnuman"
)
for m in ${MANPATHS[@]}; do
    [ -d "$m" ] && MANPATH="$m:$MANPATH"
done
MANPATH=$(echo $MANPATH | sed -e 's/:$//')
export MANPATH


#PATH
# 上の方が優先度が低い。ディレクトリがあれば追加していく。
PATH=""
PATHS=(
    "/usr/games"
    "/usr/bin/X11"
    "/usr/X11/bin"
    "/sbin"
    "/bin"
    "/usr/sbin"
    "/usr/bin"
    "/usr/local/sbin"
    "/usr/local/bin"
    "/usr/local/go/bin"
    "/usr/local/opt/coreutils/libexec/gnubin"
    "$HOME/sbin"
    "$HOME/bin"
)
for p in ${PATHS[@]}; do
    [ -d "$p" ] && PATH="$p:$PATH"
done
PATH=$(echo $PATH | sed -e 's/:$//')
export PATH


# EDITOR
if [ -x /usr/local/bin/vim ]; then
    EDITOR=/usr/local/bin/vim
    export EDITOR
elif [ -x /usr/bin/vim ]; then
    EDITOR=/usr/bin/vim
    export EDITOR
fi


# PAGER
# man とかを見るときはいつも less を使う。
if [ -x /usr/local/bin/less ]; then
    PAGER=/usr/local/bin/less
    export PAGER
elif [ -x /usr/bin/less ]; then
    PAGER=/usr/bin/less
    export PAGER
fi

# less
# ステータス行にファイル名と行数、いま何%かを表示するようにする。
export LESS='-R -X -i -P ?f%f:(stdin).  ?lb%lb?L/%L..  [?eEOF:?pb%pb\%..]'

# これを設定しないと日本語がでない less もあるので一応入れておく。
export JLESSCHARSET=japanese-ujis

# make less more friendly for non-text input files, see lesspipe(1)
[ -x /usr/bin/lesspipe ] && eval "$(SHELL=/bin/sh lesspipe)"
